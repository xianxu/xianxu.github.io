{% comment %}
  Placeholder to allow defining custom head, in principle, you can add anything here, e.g. favicons:

  1. Head over to https://realfavicongenerator.net/ to add your own favicons.
  2. Customize default _includes/custom-head.html in your source directory and insert the given code snippet.
{% endcomment %}

<style>
  /* Anchor link styles for headers */
  .header-link {
    opacity: 0;
    padding-left: 0.5em;
    font-size: 0.8em;
    text-decoration: none;
    transition: opacity 0.2s ease-in-out;
  }

  h1:hover .header-link,
  h2:hover .header-link,
  h3:hover .header-link,
  h4:hover .header-link,
  h5:hover .header-link,
  h6:hover .header-link {
    opacity: 1;
  }

  .header-link:hover {
    opacity: 1;
  }
</style>

<script>
  // Add anchor links to all headers in post content
  document.addEventListener('DOMContentLoaded', function() {
    const postContent = document.querySelector('.post-content');
    if (!postContent) return;

    const headers = postContent.querySelectorAll('h1[id], h2[id], h3[id], h4[id], h5[id], h6[id]');

    headers.forEach(function(header) {
      const id = header.getAttribute('id');
      if (id) {
        const anchor = document.createElement('a');
        anchor.className = 'header-link';
        anchor.href = '#' + id;
        anchor.innerHTML = '#';
        anchor.setAttribute('aria-label', 'Link to this section');
        header.appendChild(anchor);
      }
    });

    // Smooth scroll to anchor on page load if hash is present
    if (window.location.hash) {
      setTimeout(function() {
        const target = document.querySelector(window.location.hash);
        if (target) {
          target.scrollIntoView({ behavior: 'smooth' });
        }
      }, 100);
    }
  });
</script>
